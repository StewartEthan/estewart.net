meta( charset="utf-8" )
meta(
  name="viewport"
  content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes"
)
meta( name="author" content="Ethan Stewart" )

- page.title = page.title || 'Webapp by Ethan Stewart';
title= page.title

if page.description
  meta( name="description" content=`${page.description}` )

if assets.css.length
  each style in assets.css
    link(
      rel="stylesheet"
      type="text/css"
      href=`/css/${style}.css`.replace(/(\.css){2,}$/gi, '.css')
    )

if assets.critical
  each style in assets.critical.css
    link(
      rel="stylesheet"
      type="text/css"
      href=`/css/${style}.css`.replace(/(\.css){2,}$/gi, '.css')
    )
  each script in assets.critical.js
    script(src="script")

if page.favicon
  link( rel="icon" href=`/img/${page.favicon}` )

//- See https://goo.gl/OOhYW5 to implement manifest for native app behavior

//- See https://goo.gl/qRE0vM to add theme color for toolbar color on Android

//- Add to homescreen for Chrome on Android. Fallback for manifest.json
meta( name="mobile-web-app-capable" content="yes" )
meta( name="application-name" content=`${page.title}` )

//- Add to homescreen for Safari on iOS
meta( name="apple-mobile-web-app-capable" content="yes" )
meta( name="apple-mobile-web-app-status-bar-style" content="black-translucent" )
meta( name="apple-mobile-web-app-title" content=`${page.title}` )

// Bring in utility functions unless explicitly rejected
unless page.noUtilities
  script(src="/js/utility.js")